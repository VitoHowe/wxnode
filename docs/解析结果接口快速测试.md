# è§£æç»“æœæ¥å£å¿«é€Ÿæµ‹è¯•æŒ‡å— v2.0

## âœ… é‡æ„å®Œæˆ

å·²å®Œå…¨é‡æ„è§£æç»“æœæ¥å£ï¼Œç®€åŒ–äº†é€»è¾‘ï¼Œä¿®å¤äº†æ‰€æœ‰SQLå‚æ•°é—®é¢˜ã€‚

---

## ğŸš€ å¿«é€Ÿæµ‹è¯•

### 1. è·å–æ‰€æœ‰è§£æç»“æœ

```bash
GET http://localhost:3001/api/parse-results
Authorization: Bearer YOUR_TOKEN
```

**é¢„æœŸç»“æœ**: è¿”å›æ‰€æœ‰è§£æç»“æœæ•°ç»„

---

### 2. æ ¹æ®IDè·å–è§£æç»“æœ

```bash
GET http://localhost:3001/api/parse-results/1
Authorization: Bearer YOUR_TOKEN
```

**é¢„æœŸç»“æœ**: è¿”å›IDä¸º1çš„è§£æç»“æœè¯¦æƒ…

---

### 3. æ ¹æ®é¢˜åº“IDè·å–æœ€æ–°è§£æç»“æœ

```bash
GET http://localhost:3001/api/parse-results/bank/2
Authorization: Bearer YOUR_TOKEN
```

**é¢„æœŸç»“æœ**: è¿”å›é¢˜åº“2çš„æœ€æ–°è§£æç»“æœ

---

### 4. æ ¹æ®é¢˜åº“IDè·å–æ‰€æœ‰è§£æç»“æœ

```bash
GET http://localhost:3001/api/parse-results/bank/2/all
Authorization: Bearer YOUR_TOKEN
```

**é¢„æœŸç»“æœ**: è¿”å›é¢˜åº“2çš„æ‰€æœ‰å†å²è§£æç»“æœ

---

### 5. è·å–é¢˜åº“ç»Ÿè®¡

```bash
GET http://localhost:3001/api/parse-results/bank/2/stats
Authorization: Bearer YOUR_TOKEN
```

**é¢„æœŸç»“æœ**:
```json
{
  "parse_count": 3,
  "total_questions": 150,
  "last_parse_time": "2025-10-26 15:20:30"
}
```

---

### 6. æ›´æ–°è§£æç»“æœ â­ æ–°å¢

```bash
PUT http://localhost:3001/api/parse-results/1
Authorization: Bearer YOUR_TOKEN
Content-Type: application/json

{
  "questions": [
    {
      "type": "single",
      "content": "æ›´æ–°åçš„é¢˜ç›®",
      "options": ["A", "B", "C", "D"],
      "answer": "A",
      "explanation": "è§£æ",
      "difficulty": 1,
      "tags": ["æµ‹è¯•"]
    }
  ]
}
```

**é¢„æœŸç»“æœ**: è¿”å›æ›´æ–°åçš„å®Œæ•´è§£æç»“æœ

---

### 7. åˆ é™¤è§£æç»“æœ

```bash
DELETE http://localhost:3001/api/parse-results/1
Authorization: Bearer YOUR_TOKEN
```

**é¢„æœŸç»“æœ**: 
```json
{
  "code": 200,
  "message": "åˆ é™¤è§£æç»“æœæˆåŠŸ",
  "data": null
}
```

---

## ğŸ“‹ Postman/Apifox é›†åˆ

### ç¯å¢ƒå˜é‡
```json
{
  "base_url": "http://localhost:3001",
  "token": "your_jwt_token"
}
```

### è¯·æ±‚é›†åˆ

#### 1. è·å–æ‰€æœ‰
- **Method**: GET
- **URL**: `{{base_url}}/api/parse-results`
- **Headers**: `Authorization: Bearer {{token}}`

#### 2. æ ¹æ®IDè·å–
- **Method**: GET
- **URL**: `{{base_url}}/api/parse-results/1`
- **Headers**: `Authorization: Bearer {{token}}`

#### 3. æ ¹æ®é¢˜åº“IDè·å–æœ€æ–°
- **Method**: GET
- **URL**: `{{base_url}}/api/parse-results/bank/2`
- **Headers**: `Authorization: Bearer {{token}}`

#### 4. æ ¹æ®é¢˜åº“IDè·å–æ‰€æœ‰
- **Method**: GET
- **URL**: `{{base_url}}/api/parse-results/bank/2/all`
- **Headers**: `Authorization: Bearer {{token}}`

#### 5. è·å–ç»Ÿè®¡
- **Method**: GET
- **URL**: `{{base_url}}/api/parse-results/bank/2/stats`
- **Headers**: `Authorization: Bearer {{token}}`

#### 6. æ›´æ–°
- **Method**: PUT
- **URL**: `{{base_url}}/api/parse-results/1`
- **Headers**: 
  - `Authorization: Bearer {{token}}`
  - `Content-Type: application/json`
- **Body**:
```json
{
  "questions": [
    {
      "type": "single",
      "content": "æµ‹è¯•é¢˜ç›®",
      "options": ["A", "B", "C", "D"],
      "answer": "A",
      "explanation": "æµ‹è¯•è§£æ",
      "difficulty": 1,
      "tags": ["æµ‹è¯•"]
    }
  ]
}
```

#### 7. åˆ é™¤
- **Method**: DELETE
- **URL**: `{{base_url}}/api/parse-results/1`
- **Headers**: `Authorization: Bearer {{token}}`

---

## ğŸ¯ é‡æ„æ”¹è¿›ç‚¹

### âœ… å·²ä¿®å¤é—®é¢˜

1. **SQLå‚æ•°é—®é¢˜** - å®Œå…¨é‡å†™æŸ¥è¯¢é€»è¾‘ï¼Œå»é™¤å¤æ‚å‚æ•°å¤„ç†
2. **è·¯ç”±å†²çª** - ä¼˜åŒ–è·¯ç”±é¡ºåºï¼Œä½¿ç”¨æ­£åˆ™çº¦æŸ
3. **åˆ†é¡µå¤æ‚æ€§** - å»é™¤åˆ†é¡µï¼Œè¿”å›æ‰€æœ‰æ•°æ®ï¼ˆå¦‚éœ€è¦å¯åœ¨å‰ç«¯åˆ†é¡µï¼‰

### ğŸ†• æ–°å¢åŠŸèƒ½

1. **æ›´æ–°æ¥å£** - å¯ä»¥ä¿®æ”¹è§£æç»“æœä¸­çš„é¢˜ç›®
2. **å¤šç§æŸ¥è¯¢æ–¹å¼** - æ”¯æŒè·å–æœ€æ–°/æ‰€æœ‰è§£æç»“æœ
3. **ç®€åŒ–å‚æ•°** - æ‰€æœ‰æŸ¥è¯¢æ¥å£æ— éœ€å¤æ‚å‚æ•°

### ğŸ”§ æŠ€æœ¯æ”¹è¿›

1. **ç®€åŒ–SQL** - æ‰€æœ‰æŸ¥è¯¢ä½¿ç”¨ç®€å•ç›´æ¥çš„SQL
2. **å‚æ•°æ•°ç»„** - ç»Ÿä¸€ä½¿ç”¨æ•°ç»„ä¼ é€’å‚æ•°ï¼Œé¿å…undefinedé—®é¢˜
3. **é”™è¯¯å¤„ç†** - ç»Ÿä¸€çš„é”™è¯¯å¤„ç†é€»è¾‘

---

## ğŸ“Š æ¥å£å¯¹æ¯”

| åŠŸèƒ½ | v1.0 (æ—§ç‰ˆ) | v2.0 (æ–°ç‰ˆ) |
|------|-------------|-------------|
| è·å–åˆ—è¡¨ | `?page=1&limit=20` | æ— å‚æ•°ï¼Œè¿”å›æ‰€æœ‰ |
| æŒ‰é¢˜åº“æŸ¥è¯¢ | `/bank/:bankId` | æ”¯æŒæœ€æ–°/æ‰€æœ‰ |
| æ›´æ–° | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ |
| åˆ é™¤ | âœ… æ”¯æŒ | âœ… æ”¯æŒ |
| SQLå¤æ‚åº¦ | é«˜ | ä½ |
| å‚æ•°å¤„ç† | å¤æ‚ | ç®€å• |

---

## ğŸ› é—®é¢˜æ’æŸ¥

### å¦‚æœè¿˜æŠ¥é”™

1. **æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨**
```bash
# æŸ¥çœ‹è¿›ç¨‹
Get-Process -Name node

# æŸ¥çœ‹æ—¥å¿—
# åº”è¯¥çœ‹åˆ° "æœåŠ¡å™¨è¿è¡Œåœ¨ç«¯å£ 3001"
```

2. **æ£€æŸ¥æ•°æ®åº“è¿æ¥**
- ç¡®ä¿MySQLæ­£åœ¨è¿è¡Œ
- ç¡®ä¿ `parse_results` è¡¨å­˜åœ¨

3. **æ£€æŸ¥Token**
- ç¡®ä¿Tokenæœ‰æ•ˆä¸”æœªè¿‡æœŸ
- é‡æ–°ç™»å½•è·å–æ–°Token

4. **æŸ¥çœ‹è¯¦ç»†é”™è¯¯**
- æŸ¥çœ‹æœåŠ¡å™¨æ§åˆ¶å°æ—¥å¿—
- æŸ¥çœ‹è¿”å›çš„é”™è¯¯å †æ ˆ

---

## âœ¨ æµ‹è¯•æˆåŠŸæ ‡å‡†

æ‰€æœ‰æ¥å£æµ‹è¯•é€šè¿‡çš„æ ‡å¿—ï¼š

- [ ] GET `/api/parse-results` - 200 OK
- [ ] GET `/api/parse-results/1` - 200 OK æˆ– 404
- [ ] GET `/api/parse-results/bank/2` - 200 OK æˆ– 404
- [ ] GET `/api/parse-results/bank/2/all` - 200 OK
- [ ] GET `/api/parse-results/bank/2/stats` - 200 OK
- [ ] PUT `/api/parse-results/1` - 200 OK æˆ– 404
- [ ] DELETE `/api/parse-results/1` - 200 OK æˆ– 404

---

**é‡æ„å®Œæˆæ—¶é—´**: 2025-10-26  
**æµ‹è¯•å»ºè®®**: å…ˆæµ‹è¯•GETæ¥å£ï¼Œç¡®è®¤æœ‰æ•°æ®åå†æµ‹è¯•PUTå’ŒDELETE

